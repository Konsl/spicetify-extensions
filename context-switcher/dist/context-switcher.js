!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var e;e=async function(){for(var e;null==(e=null==Spicetify?void 0:Spicetify.Platform)||!e.PlayerAPI||!Spicetify.ContextMenu||!Spicetify.URI;)await new Promise(e=>setTimeout(e,100));let{URI:r,Platform:n,ContextMenu:t}=Spicetify,y=n.PlayerAPI;new t.Item("Switch Context",e=>{var t,i,e=r.fromString(e[0]);e&&(e.type===r.Type.COLLECTION&&(e.username=n.username,"tracks"===e.category)&&delete e.category,t=y.getState().sessionId,i="context://"+(e=e.toURI()),y.updateContext(t,{uri:e,url:i}))},e=>{return 1===e.length&&(e=r.fromString(e[0]),!![r.Type.ALBUM,r.Type.ARTIST,r.Type.EPISODE,r.Type.PLAYLIST,r.Type.PLAYLIST_V2,r.Type.SHOW,r.Type.TRACK].includes(e.type)||!(e.type!==r.Type.COLLECTION||!["tracks","your-episodes"].includes(e.category)))}).register()},(async()=>{await e()})()}();